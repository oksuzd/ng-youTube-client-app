"use strict";(self.webpackChunkng_youtube_client_app=self.webpackChunkng_youtube_client_app||[]).push([[525],{525:(Ct,N,s)=>{s.r(N),s.d(N,{YoutubeModule:()=>S});var l=s(6895),E=s(8420),t=s(1571),f=s(7315),I=s(8505),L=s(4004),D=s(262),A=s(2843),k=s(8176),$=s(136),j=s(1159),H=s(529),G=s(7009);class u{constructor(n,e,i){this.http=n,this.snackBar=e,this.router=i}getDetailedData(n){return this.http.get(`https://youtube.googleapis.com/youtube/v3/videos?part=snippet&part=statistics&id=${n}&key=${$.$}`).pipe((0,I.b)(i=>{i.items.length||this.router.navigate([j.w]).then()}),(0,L.U)(i=>this.mapData(i)),(0,D.K)(i=>(404===i.status&&this.snackBar.open("Video not found"," X "),(0,A._)(()=>i))))}mapData(n){if(n.items.length){let e=n.items[0];return{id:e.id,title:e.snippet.title,channelTitle:e.snippet.channelTitle,imgUrl:e.snippet.thumbnails.high.url,description:e.snippet.description,publishedAt:e.snippet.publishedAt,views:+e.statistics.viewCount,likes:+e.statistics.likeCount,comments:+e.statistics.commentCount,dataBar:k.W.getSearchResultDataBarColor(e.snippet.publishedAt)}}return null}static#t=this.\u0275fac=function(e){return new(e||u)(t.LFG(H.eN),t.LFG(G.ux),t.LFG(f.F0))};static#e=this.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}var c=s(3546),R=s(3162),b=s(4859);class v{constructor(n){this.location=n}goBack(){this.location.back()}static#t=this.\u0275fac=function(e){return new(e||v)(t.Y36(l.Ye))};static#e=this.\u0275cmp=t.Xpm({type:v,selectors:[["app-back-button"]],decls:1,vars:0,consts:[["mat-raised-button","",1,"back-button",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return i.goBack()}),t.qZA())},dependencies:[b.lW],styles:["[_nghost-%COMP%]   .back-button[_ngcontent-%COMP%]{width:45px;height:45px;min-width:unset;min-height:unset;border-radius:5px 0 0 5px;background:#3F51B5 url(back-button.d834aba586ced040.svg) no-repeat center center}"]})}class g{constructor(n,e){this.elementRef=n,this.renderer2=e,this.barColor=""}ngOnInit(){this.renderer2.setStyle(this.elementRef.nativeElement,"background-color",this.barColor)}static#t=this.\u0275fac=function(e){return new(e||g)(t.Y36(t.SBq),t.Y36(t.Qsj))};static#e=this.\u0275dir=t.lG2({type:g,selectors:[["","appFooterBarColor",""]],inputs:{barColor:"barColor"}})}function V(a,n){if(1&a&&(t.TgZ(0,"mat-card",2)(1,"mat-card-content",3)(2,"div",4)(3,"a",5),t._UZ(4,"img",6),t.qZA()(),t.TgZ(5,"div",7)(6,"div",8)(7,"div",9),t._uU(8),t.qZA(),t.TgZ(9,"div",10),t._uU(10),t.qZA(),t.TgZ(11,"div",11),t._uU(12),t.ALo(13,"date"),t.qZA()(),t.TgZ(14,"div",12),t._uU(15),t.qZA(),t.TgZ(16,"mat-card-actions",13)(17,"div",14),t._UZ(18,"img",15),t.TgZ(19,"span",16),t._uU(20),t.qZA()(),t.TgZ(21,"div",14),t._UZ(22,"img",17),t.TgZ(23,"span",16),t._uU(24),t.qZA()(),t.TgZ(25,"div",14),t._UZ(26,"img",18),t.TgZ(27,"span",16),t._uU(28),t.qZA()()()()(),t.TgZ(29,"mat-card-footer",19),t._UZ(30,"mat-progress-bar",20),t.qZA()()),2&a){const e=n.ngIf;t.xp6(3),t.MGl("href","https://www.youtube.com/watch?v=",e.id,"",t.LSH),t.xp6(1),t.Q6J("src",e.imgUrl,t.LSH),t.xp6(4),t.Oqu(e.title),t.xp6(2),t.Oqu(e.channelTitle),t.xp6(2),t.hij(" ",t.xi3(13,10,e.publishedAt,"fullDate")," "),t.xp6(3),t.Oqu(e.description),t.xp6(5),t.Oqu(e.views),t.xp6(4),t.Oqu(e.likes),t.xp6(4),t.Oqu(e.comments),t.xp6(2),t.Q6J("barColor",e.dataBar)}}class x{constructor(n,e){this.route=n,this.detailsDataService=e}ngOnInit(){this.item$=this.detailsDataService.getDetailedData(this.route.snapshot.params.id)}static#t=this.\u0275fac=function(e){return new(e||x)(t.Y36(f.gz),t.Y36(u))};static#e=this.\u0275cmp=t.Xpm({type:x,selectors:[["app-details-info"]],decls:4,vars:3,consts:[[1,"container"],["class","detail-card",4,"ngIf"],[1,"detail-card"],[1,"detail-card-content"],[1,"detail-card-image"],["target","_blank",1,"detail-card-image-link",3,"href"],["mat-card-image","","width","480","height","360","alt","Card image",1,"detail-card-img",3,"src"],[1,"detail-card-info"],[1,"detail-card-title"],[1,"detail-card-title-text"],[1,"detail-card-channel"],[1,"detail-card-date"],[1,"detail-card-description-text"],[1,"detail-card-feedback"],[1,"detail-card-feedback-group"],["src","assets/img/viewed-icon.svg","alt","viewed"],[1,"detail-card-feedback-text"],["src","assets/img/liked-icon.svg","alt","liked"],["src","assets/img/comments-icon.svg","alt","comments"],[1,"detail-card-footer"],["appFooterBarColor","","mode","determinate",1,"detail-card-bar",3,"barColor"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-back-button"),t.YNc(2,V,31,13,"mat-card",1),t.ALo(3,"async"),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,i.item$)))},dependencies:[l.O5,c.a8,c.hq,c.dn,c.rt,c.G2,R.pW,v,g,l.Ov,l.uU],styles:["[_nghost-%COMP%]{margin:auto;position:relative}[_nghost-%COMP%]   app-back-button[_ngcontent-%COMP%]{position:absolute;top:0;left:-45px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{width:780px;height:367px}[_nghost-%COMP%]   .detail-card[_ngcontent-%COMP%]{display:flex;background:#E5E5E5}[_nghost-%COMP%]   .detail-card-img[_ngcontent-%COMP%]{max-width:100%;background-color:#c4c4c4}[_nghost-%COMP%]   .detail-card-image-link[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .detail-card-info[_ngcontent-%COMP%]{width:300px;padding:16px;display:flex;flex-direction:column;border-radius:5px}[_nghost-%COMP%]   .detail-card-content[_ngcontent-%COMP%]{padding:0;display:flex}[_nghost-%COMP%]   .detail-card-title[_ngcontent-%COMP%]{height:109px}[_nghost-%COMP%]   .detail-card-title-text[_ngcontent-%COMP%]{height:55px;font-weight:700;font-size:18px;line-height:18px;color:#000;word-wrap:break-word;overflow:hidden}[_nghost-%COMP%]   .detail-card-channel[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .detail-card-date[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px;font-weight:400;font-size:10px;line-height:12px;text-align:right;color:#828282}[_nghost-%COMP%]   .detail-card-description-text[_ngcontent-%COMP%]{height:196px;margin-bottom:10px;font-weight:400;font-size:12px;line-height:14px;color:#828282;word-wrap:break-word;overflow:hidden}[_nghost-%COMP%]   .detail-card-feedback[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;min-height:auto;padding:0}[_nghost-%COMP%]   .detail-card-feedback-group[_ngcontent-%COMP%]{display:flex;gap:2px}[_nghost-%COMP%]   .detail-card-feedback-text[_ngcontent-%COMP%]{font-weight:400;font-size:10px;line-height:12px;color:#000}[_nghost-%COMP%]   .detail-card-bar[_ngcontent-%COMP%]{height:7px;border-radius:0 0 5px 5px}"]})}var _=s(7579),C=s(2722),X=s(9841),q=s(8372),U=s(9300),W=s(3900),K=s(1135),p=s(7340),tt=s(1481);const et=["overlay"];function nt(a,n){1&a&&t._UZ(0,"div")}function it(a,n){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,nt,1,0,"div",6),t.qZA()),2&a){const e=t.oxw(2);t.Tol(e.spinner.class),t.Udp("color",e.spinner.color),t.xp6(1),t.Q6J("ngForOf",e.spinner.divArray)}}function at(a,n){if(1&a&&(t._UZ(0,"div",7),t.ALo(1,"safeHtml")),2&a){const e=t.oxw(2);t.Q6J("innerHTML",t.lcZ(1,1,e.template),t.oJD)}}function st(a,n){if(1&a&&(t.TgZ(0,"div",1,2),t.YNc(2,it,2,5,"div",3),t.YNc(3,at,2,3,"div",4),t.TgZ(4,"div",5),t.Hsn(5),t.qZA()()),2&a){const e=t.oxw();t.Udp("background-color",e.spinner.bdColor)("z-index",e.spinner.zIndex)("position",e.spinner.fullScreen?"fixed":"absolute"),t.Q6J("@.disabled",e.disableAnimation)("@fadeIn","in"),t.xp6(2),t.Q6J("ngIf",!e.template),t.xp6(1),t.Q6J("ngIf",e.template),t.xp6(1),t.Udp("z-index",e.spinner.zIndex)}}const ot=["*"],rt={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},Z="primary";class d{constructor(n){Object.assign(this,n)}static create(n){return!n?.template&&(null==n?.type||0===n.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new d(n)}}let z=(()=>{class a{constructor(){this.spinnerObservable=new K.X(null)}getSpinner(e){return this.spinnerObservable.asObservable().pipe((0,U.h)(i=>i&&i.name===e))}show(e=Z,i){return new Promise((o,r)=>{setTimeout(()=>{i&&Object.keys(i).length?(i.name=e,this.spinnerObservable.next(new d({...i,show:!0})),o(!0)):(this.spinnerObservable.next(new d({name:e,show:!0})),o(!0))},10)})}hide(e=Z,i=10){return new Promise((o,r)=>{setTimeout(()=>{this.spinnerObservable.next(new d({name:e,show:!1})),o(!0)},i)})}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const F=new t.OlP("NGX_SPINNER_CONFIG");let lt=(()=>{class a{constructor(e){this._sanitizer=e}transform(e){if(e)return this._sanitizer.bypassSecurityTrustHtml(e)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(tt.H7,16))},a.\u0275pipe=t.Yjl({name:"safeHtml",type:a,pure:!0}),a})(),ct=(()=>{class a{constructor(e,i,o,r){this.spinnerService=e,this.changeDetector=i,this.elementRef=o,this.globalConfig=r,this.disableAnimation=!1,this.spinner=new d,this.ngUnsubscribe=new _.x,this.setDefaultOptions=()=>{const{type:T}=this.globalConfig??{};this.spinner=d.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??T,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=Z,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(e){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(e.target))&&(e.returnValue=!1,e.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe((0,C.R)(this.ngUnsubscribe)).subscribe(e=>{this.setDefaultOptions(),Object.assign(this.spinner,e),e.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(e){return e===this.elementRef.nativeElement.parentElement||e.parentNode&&this.isSpinnerZone(e.parentNode)}ngOnChanges(e){for(const i in e)if(i){const o=e[i];if(o.isFirstChange())return;typeof o.currentValue<"u"&&o.currentValue!==o.previousValue&&""!==o.currentValue&&(this.spinner[i]=o.currentValue,"showSpinner"===i&&(o.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===i&&this.initObservable())}}getClass(e,i){this.spinner.divCount=rt[e],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((r,T)=>T);let o="";switch(i.toLowerCase()){case"small":o="la-sm";break;case"medium":o="la-2x";break;case"large":o="la-3x"}return"la-"+e+" "+o}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(z),t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(F,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["ngx-spinner"]],viewQuery:function(e,i){if(1&e&&t.Gf(et,5),2&e){let o;t.iGM(o=t.CRH())&&(i.spinnerDOM=o.first)}},hostBindings:function(e,i){1&e&&t.NdJ("keydown",function(r){return i.handleKeyboardEvent(r)},!1,t.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[t.TTD],ngContentSelectors:ot,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(e,i){1&e&&(t.F$t(),t.YNc(0,st,6,12,"div",0)),2&e&&t.Q6J("ngIf",i.spinner.show)},dependencies:[l.sg,l.O5,lt],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[(0,p.X$)("fadeIn",[(0,p.SB)("in",(0,p.oB)({opacity:1})),(0,p.eR)(":enter",[(0,p.oB)({opacity:0}),(0,p.jt)(300)]),(0,p.eR)(":leave",(0,p.jt)(200,(0,p.oB)({opacity:0})))])]},changeDetection:0}),a})(),pt=(()=>{class a{static forRoot(e){return{ngModule:a,providers:[{provide:F,useValue:e}]}}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[l.ez]}),a})();var m=s(5956),h=s(5412);class O{constructor(n){this.dialogRef=n}onNoClick(){this.dialogRef.close()}static#t=this.\u0275fac=function(e){return new(e||O)(t.Y36(h.so))};static#e=this.\u0275cmp=t.Xpm({type:O,selectors:[["app-dialog-window"]],decls:9,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","",1,"dialog-buttons-group"],["mat-button","","cdkFocusInitial","",3,"click"],["mat-button","",3,"mat-dialog-close"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1,"Go to Youtube"),t.qZA(),t.TgZ(2,"div",1),t._uU(3," Would you like to open the channel?\n"),t.qZA(),t.TgZ(4,"div",2)(5,"button",3),t.NdJ("click",function(){return i.onNoClick()}),t._uU(6,"No"),t.qZA(),t.TgZ(7,"button",4),t._uU(8,"Ok"),t.qZA()()),2&e&&(t.xp6(7),t.Q6J("mat-dialog-close",!0))},dependencies:[b.lW,h.ZT,h.uh,h.xY,h.H8],styles:["[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .dialog-buttons-group[_ngcontent-%COMP%]{justify-content:center}"]})}function dt(a,n){if(1&a&&(t.TgZ(0,"a",9),t._uU(1,"more... "),t.qZA()),2&a){const e=t.oxw();t.MGl("routerLink","/youtube/detail/",e.item.id,"")}}function ht(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.goToChannel(o.item.channelId))}),t._uU(1,"more... "),t.qZA()}}class P{constructor(n,e){this.stateService=n,this.dialog=e}ngOnInit(){this.stateService.setSearchTermDataItem(this.item)}getShortTitle(n){return k.W.getShortText(n,50)}goToChannel(n){this.dialog.open(O,{width:"250px"}).afterClosed().subscribe(i=>{i&&window.open(`http://youtube.com/channel/${n}`,"_blank")})}static#t=this.\u0275fac=function(e){return new(e||P)(t.Y36(m.Z),t.Y36(h.uw))};static#e=this.\u0275cmp=t.Xpm({type:P,selectors:[["app-search-item"]],inputs:{item:"item"},decls:10,vars:5,consts:[[1,"search-result-card"],[1,"search-card-header"],["mat-card-image","","alt","Card image",1,"search-card-img",3,"src"],[1,"search-card-content"],[1,"search-card-title"],[1,"search-card-footer"],["class","search-card-more-button","mat-button","",3,"routerLink",4,"ngIf"],["class","search-card-more-button","mat-button","",3,"click",4,"ngIf"],["appFooterBarColor","","mode","determinate",1,"search-card-bar",3,"barColor"],["mat-button","",1,"search-card-more-button",3,"routerLink"],["mat-button","",1,"search-card-more-button",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"mat-card-content",3)(4,"mat-card-title",4),t._uU(5),t.qZA()(),t.TgZ(6,"mat-card-footer",5),t.YNc(7,dt,2,1,"a",6),t.YNc(8,ht,2,0,"button",7),t._UZ(9,"mat-progress-bar",8),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("src",i.item.imgUrl,t.LSH),t.xp6(3),t.Oqu(i.getShortTitle(i.item.title)),t.xp6(2),t.Q6J("ngIf","youtube#video"===i.item.kind),t.xp6(1),t.Q6J("ngIf","youtube#channel"===i.item.kind),t.xp6(1),t.Q6J("barColor",i.item.dataBar))},dependencies:[l.O5,b.zs,b.lW,c.a8,c.dn,c.rt,c.G2,c.n5,R.pW,f.rH,g],styles:["[_nghost-%COMP%]   .search-result-card[_ngcontent-%COMP%]{width:230px;max-width:230px;height:274px;background:#E5E5E5;border-radius:5px}[_nghost-%COMP%]   .search-card-header[_ngcontent-%COMP%]{width:230px;height:125px;padding-top:16px;text-align:center}[_nghost-%COMP%]   .search-card-img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;background-color:#c4c4c4}[_nghost-%COMP%]   .search-card-content[_ngcontent-%COMP%]{min-height:100px}[_nghost-%COMP%]   .search-card-feedback[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-items:center}[_nghost-%COMP%]   .search-card-title[_ngcontent-%COMP%]{margin:16px 0;font-style:normal;font-weight:700;font-size:18px;line-height:20px;text-align:right;color:#4f4f4f;word-wrap:break-word}[_nghost-%COMP%]   .search-card-more-button[_ngcontent-%COMP%]{display:flex;margin:0 auto 10px;width:120px;height:32px;background-color:#3f51b5;color:#fff}[_nghost-%COMP%]   .search-card-bar[_ngcontent-%COMP%]{height:7px;border-radius:0 0 5px 5px}"]})}var Y=s(5213),B=s(9549),J=s(1948),ut=s(4385),gt=s(3238),Q=s(433);function mt(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"mat-radio-button",6),t.NdJ("change",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.onOrderChange(o))}),t._uU(1),t.qZA()}if(2&a){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function ft(a,n){if(1&a&&(t.TgZ(0,"mat-option",7),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.viewValue," ")}}class y{constructor(n){this.searchParamsData=n,this.dropOptions=[{value:"10",viewValue:"10"},{value:"20",viewValue:"20"},{value:"30",viewValue:"30"},{value:"40",viewValue:"40"},{value:"50",viewValue:"50"}],this.searchResultsOrder=Object.values(Y.L),this.searchParams={order:Y.L.Relevance,maxResults:""},this.notifier$=new _.x}ngOnInit(){this.searchParamsData.searchParamsData$.pipe((0,C.R)(this.notifier$)).subscribe(n=>this.searchParams=n)}onMaxResultsChange(n){this.searchParamsData.setSearchParamsData({maxResults:n})}onOrderChange(n){this.searchParamsData.setSearchParamsData({order:n.value})}ngOnDestroy(){this.notifier$.next(null),this.notifier$.complete()}static#t=this.\u0275fac=function(e){return new(e||y)(t.Y36(m.r))};static#e=this.\u0275cmp=t.Xpm({type:y,selectors:[["app-search-params"]],decls:9,vars:4,consts:[[1,"filter-title"],["aria-labelledby","Select an option",3,"ngModel","ngModelChange"],["color","primary",3,"value","change",4,"ngFor","ngForOf"],["appearance","fill",1,"max-results-form"],[1,"max-results-value",3,"value","valueChange"],["class","max-results-value",3,"value",4,"ngFor","ngForOf"],["color","primary",3,"value","change"],[1,"max-results-value",3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._uU(1,"Sorting by:"),t.qZA(),t.TgZ(2,"mat-radio-group",1),t.NdJ("ngModelChange",function(r){return i.searchParams.order=r}),t.YNc(3,mt,2,2,"mat-radio-button",2),t.qZA(),t.TgZ(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"Max Results"),t.qZA(),t.TgZ(7,"mat-select",4),t.NdJ("valueChange",function(r){return i.searchParams.maxResults=r})("valueChange",function(r){return i.onMaxResultsChange(r)}),t.YNc(8,ft,2,2,"mat-option",5),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngModel",i.searchParams.order),t.xp6(1),t.Q6J("ngForOf",i.searchResultsOrder),t.xp6(4),t.Q6J("value",i.searchParams.maxResults),t.xp6(1),t.Q6J("ngForOf",i.dropOptions))},dependencies:[l.sg,B.KE,B.hX,J.VQ,J.U0,ut.gD,gt.ey,Q.JJ,Q.On],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;gap:20px}[_nghost-%COMP%]   .filter-title[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:14px;color:#929292}[_nghost-%COMP%]   .sorting-button[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:14px;text-decoration-line:underline;color:#3f51b5}[_nghost-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%] ~ .mat-mdc-radio-button[_ngcontent-%COMP%]{margin-left:10px}[_nghost-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]{font-size:10px}[_nghost-%COMP%]     .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fff}[_nghost-%COMP%]   .max-results-form[_ngcontent-%COMP%]{width:124px}[_nghost-%COMP%]   .max-results-value[_ngcontent-%COMP%]{font-size:12px}"]})}function bt(a,n){1&a&&t._UZ(0,"app-search-params")}function vt(a,n){1&a&&t._UZ(0,"app-search-item",5),2&a&&t.Q6J("item",n.$implicit)}class M{constructor(n,e,i,o){this.spinner=n,this.searchParamsBarService=e,this.searchParamsService=i,this.searchResultService=o,this.isShown=!1,this.items=[],this.notifier$=new _.x}ngOnInit(){this.createSubscriptionOnSearchParamsBar(),this.createSubscriptionOnSearch()}createSubscriptionOnSearchParamsBar(){this.searchParamsBarService.searchParamsIsShown$.pipe((0,C.R)(this.notifier$)).subscribe(n=>this.isShown=n)}createSubscriptionOnSearch(){(0,X.a)([this.searchParamsService.searchParamsData$,this.searchResultService.searchResultData$]).pipe((0,I.b)(n=>{this.items=n[1]?this.items:[]}),(0,q.b)(1e3),(0,U.h)(n=>!!n[1]),(0,W.w)(([n,e])=>(this.spinner.show().then(),this.searchResultService.getSearchResultData(e,n.maxResults,n.order))),(0,D.K)(n=>(this.spinner.hide().then(),(0,A._)(()=>n))),(0,C.R)(this.notifier$)).subscribe(n=>{this.items=n,this.spinner.hide().then()})}ngOnDestroy(){this.notifier$.next(null),this.notifier$.complete()}static#t=this.\u0275fac=function(e){return new(e||M)(t.Y36(z),t.Y36(m.r),t.Y36(m.r),t.Y36(m.r))};static#e=this.\u0275cmp=t.Xpm({type:M,selectors:[["app-search-result-page"]],decls:6,vars:2,consts:[[4,"ngIf"],["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"container","search-result-cards"],[3,"item",4,"ngFor","ngForOf"],[3,"item"]],template:function(e,i){1&e&&(t.YNc(0,bt,1,0,"app-search-params",0),t.TgZ(1,"ngx-spinner",1)(2,"p",2),t._uU(3,"Loading..."),t.qZA()(),t.TgZ(4,"div",3),t.YNc(5,vt,1,1,"app-search-item",4),t.qZA()),2&e&&(t.Q6J("ngIf",i.isShown),t.xp6(5),t.Q6J("ngForOf",i.items))},dependencies:[l.sg,l.O5,ct,P,y],styles:["[_nghost-%COMP%]{margin:0 auto}[_nghost-%COMP%]   .search-result-cards[_ngcontent-%COMP%]{padding:15px 0;gap:15px}"]})}const xt=[{path:"",redirectTo:"search-result",pathMatch:"full"},{path:"search-result",component:M},{path:"detail/:id",component:x}];class S{static#t=this.\u0275fac=function(e){return new(e||S)};static#e=this.\u0275mod=t.oAB({type:S});static#n=this.\u0275inj=t.cJS({imports:[l.ez,E.m,f.Bz.forChild(xt),pt]})}}}]);